@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		/* Layout */
		--header-height: 60px;
		--sidebar-width: 240px;

		/* Z-index scale */
		--z-dropdown: 10;
		--z-sticky: 20;
		--z-overlay: 30;
		--z-modal: 40;
		--z-toast: 50;

		/* Breakpoints pour JS */
		--mobile: 640px;
		--tablet: 768px;
		--desktop: 1024px;
	}

	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}

	html {
		@apply scroll-smooth;
	}

	body {
		@apply bg-gray-50 text-gray-900 antialiased;
		@apply min-h-screen;
	}

	/* Focus visible uniquement au clavier */
	:focus:not(:focus-visible) {
		@apply outline-none;
	}
}

@layer components {
	/* ========== Conteneurs ========== */
	.container-app {
		@apply min-h-screen flex flex-col;
	}

	.container-fluid {
		@apply w-full px-4 sm:px-6 lg:px-8;
	}

	.container-max {
		@apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
	}

	/* ========== Cards ========== */
	.card {
		@apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden;
	}

	.card-hover {
		@apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden;
		@apply hover:shadow-md transition-shadow duration-200 cursor-pointer;
	}

	.card-interactive {
		@apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden;
		@apply hover:shadow-md transition-shadow duration-200 cursor-pointer;
		@apply hover:border-gray-300;
	}

	/* ========== Boutons ========== */
	.btn {
		@apply inline-flex items-center justify-center gap-2;
		@apply px-4 py-2 font-medium rounded-md;
		@apply transition-all duration-200;
		@apply focus:outline-none focus:ring-2 focus:ring-offset-2;
		@apply disabled:opacity-50 disabled:cursor-not-allowed;
	}

	.btn-primary {
		@apply btn bg-primary text-white;
		@apply hover:bg-primary-600 focus:ring-primary-500;
	}

	.btn-secondary {
		@apply btn bg-secondary text-white;
		@apply hover:bg-secondary-600 focus:ring-secondary-500;
	}

	.btn-outline {
		@apply btn bg-transparent border border-gray-300 text-gray-700;
		@apply hover:bg-gray-50 focus:ring-gray-500;
	}

	.btn-ghost {
		@apply btn bg-transparent text-gray-600;
		@apply hover:bg-gray-100 focus:ring-gray-400;
	}

	.btn-danger {
		@apply btn bg-red-600 text-white;
		@apply hover:bg-red-700 focus:ring-red-500;
	}

	.btn-sm {
		@apply px-3 py-1.5 text-sm;
	}

	.btn-lg {
		@apply px-6 py-3 text-base;
	}

	.btn-icon {
		@apply p-2;
	}

	/* ========== Formulaires ========== */
	.form-group {
		@apply space-y-1;
	}

	.label {
		@apply block text-sm font-medium text-gray-700;
	}

	.input {
		@apply w-full px-3 py-2;
		@apply bg-white border border-gray-300 rounded-md shadow-sm;
		@apply placeholder:text-gray-400;
		@apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500;
		@apply disabled:bg-gray-100 disabled:cursor-not-allowed;
	}

	.input-error {
		@apply border-red-500 focus:ring-red-500 focus:border-red-500;
	}

	.select {
		@apply input pr-10;
	}

	.textarea {
		@apply input;
	}

	.checkbox {
		@apply w-4 h-4 text-primary-600 border-gray-300 rounded;
		@apply focus:ring-primary-500;
	}

	/* ========== Badges ========== */
	.badge {
		@apply inline-flex items-center px-2.5 py-0.5;
		@apply rounded-full text-xs font-medium;
	}

	.badge-primary {
		@apply badge bg-primary-100 text-primary-700;
	}

	.badge-secondary {
		@apply badge bg-secondary-100 text-secondary-700;
	}

	.badge-success {
		@apply badge bg-green-100 text-green-700;
	}

	.badge-warning {
		@apply badge bg-amber-100 text-amber-700;
	}

	.badge-danger {
		@apply badge bg-red-100 text-red-700;
	}

	.badge-sector {
		@apply badge;
	}

	/* ========== Messages & Alertes ========== */
	.alert {
		@apply p-4 rounded-lg border;
	}

	.alert-info {
		@apply alert bg-blue-50 border-blue-200 text-blue-800;
	}

	.alert-success {
		@apply alert bg-green-50 border-green-200 text-green-800;
	}

	.alert-warning {
		@apply alert bg-amber-50 border-amber-200 text-amber-800;
	}

	.alert-error {
		@apply alert bg-red-50 border-red-200 text-red-800;
	}

	/* ========== Sections & Pages ========== */
	.page-header {
		@apply flex items-center justify-between mb-6;
	}

	.page-title {
		@apply text-2xl font-bold text-gray-900;
	}

	.section {
		@apply py-8;
	}

	.section-title {
		@apply text-xl font-semibold text-gray-900 mb-4;
	}

	/* ========== Listes & Grilles ========== */
	.list-item {
		@apply py-3 px-4 hover:bg-gray-50 transition-colors;
	}

	.grid-responsive {
		@apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6;
	}

	/* ========== Map spécifique ========== */
	.map-container {
		@apply relative w-full h-full overflow-hidden bg-gray-100;
	}

	.map-overlay {
		@apply absolute inset-x-0 top-0 pointer-events-none;
	}

	.booth-polygon {
		@apply cursor-pointer transition-all duration-200;
		@apply hover:opacity-80;
	}

	.booth-selected {
		@apply ring-2 ring-primary ring-offset-2;
	}

	/* ========== États vides ========== */
	.empty-state {
		@apply flex flex-col items-center justify-center;
		@apply py-12 px-4 text-center min-h-[300px];
	}

	/* ========== Liens ========== */
	.link {
		@apply text-primary hover:text-primary-600 underline transition-colors;
	}

	.link-plain {
		@apply text-primary hover:text-primary-600 transition-colors;
	}

	/* ========== Dividers ========== */
	.divider {
		@apply border-t border-gray-200 my-4;
	}

	.divider-vertical {
		@apply border-l border-gray-200 mx-4 h-full;
	}

	/* ========== Skeleton Loading ========== */
	.skeleton {
		@apply animate-pulse bg-gray-200 rounded;
	}

	.skeleton-text {
		@apply skeleton h-4 w-full mb-2;
	}

	.skeleton-box {
		@apply skeleton h-20 w-full;
	}
}

@layer utilities {
	/* ========== Text ========== */
	.text-balance {
		text-wrap: balance;
	}

	.line-clamp-2 {
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.line-clamp-3 {
		display: -webkit-box;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	/* ========== Scrollbar ========== */
	.scrollbar-thin {
		scrollbar-width: thin;
		scrollbar-color: theme('colors.gray.300') transparent;
	}

	.scrollbar-hide {
		-ms-overflow-style: none;
		scrollbar-width: none;
	}

	.scrollbar-hide::-webkit-scrollbar {
		display: none;
	}

	/* ========== Animations ========== */
	.animate-in {
		animation: animate-in 0.2s ease-out;
	}

	@keyframes animate-in {
		from {
			opacity: 0;
			transform: translateY(-4px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	/* ========== Aspect Ratios ========== */
	.aspect-square {
		aspect-ratio: 1 / 1;
	}

	.aspect-video {
		aspect-ratio: 16 / 9;
	}

	/* ========== Print ========== */
	@media print {
		.no-print {
			display: none !important;
		}

		.print-only {
			display: block !important;
		}
	}

	/* ========== Mobile ========== */
	@media (max-width: 640px) {
		.mobile-fullscreen {
			@apply fixed inset-0 z-50;
		}

		.mobile-drawer {
			@apply transform transition-transform duration-300;
		}

		.mobile-hide {
			@apply hidden;
		}
	}

	@media (min-width: 640px) {
		.mobile-only {
			@apply hidden;
		}
	}
}

/* ========== Composants spécifiques non-Tailwind ========== */
/* Loading spinner */
@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}

.spinner {
	animation: spin 1s linear infinite;
}

/* Transitions douces pour le dark mode */
.dark {
	color-scheme: dark;
}

.dark body {
	@apply bg-gray-900 text-gray-100;
}

.dark .card {
	@apply bg-gray-800 border-gray-700;
}

.dark .input {
	@apply bg-gray-700 border-gray-600 text-gray-100;
}
